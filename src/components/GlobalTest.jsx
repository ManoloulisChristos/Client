import {
  useEffect,
  useLayoutEffect,
  useRef,
  useState,
  useCallback,
} from 'react';
import './GlobalTest.scss';
import useSession from '../hooks/useSession';
import { useDispatch } from 'react-redux';
import { createToast } from '../features/toast/toastsSlice';
import usePersist from '../hooks/usePersist';
import Carousel from './Carousel';
import { Link, useLocation, useSearchParams } from 'react-router';

const GlobalTest = () => {
  const boxRef = useRef(null);
  const starMorphShapeAnimateRef = useRef(null);
  const resetAnimateRef = useRef(null);
  const buttonRef = useRef(null);
  const [freeze, setFreeze] = useState(true);
  const testOnCLick = () => {
    return boxRef.current.animate(
      [{ transform: 'translateX(0px)' }, { transform: 'translateX(200px)' }],
      { duration: 2000 }
    );
  };
  console.log(freeze);
  return (
    <div className='test'>
      <div ref={boxRef} className={`test__div `}>
        1
      </div>
      <button
        onClick={(e) => {
          starMorphShapeAnimateRef.current.beginElement();
          resetAnimateRef.current.beginElement();
        }}>
        afafafs
      </button>
      <button
        onClick={(e) => {
          resetAnimateRef.current.endElement();
        }}>
        222222
      </button>
      <button
        ref={buttonRef}
        onClick={() => console.log('click BITCH')}
        id='the_button'>
        freeze
      </button>
      <button
        onClick={() => {
          buttonRef.current.click();
        }}>
        Button click
      </button>
      <svg
        className='home__svg-star'
        viewBox='0 0 1000 1000'
        xmlSpace='preserve'
        xmlns='http://www.w3.org/2000/svg'
        preserveAspectRatio='xMidYMid meet'>
        <path
          opacity='1'
          fill='lightsalmon'
          stroke='none'
          strokeWidth='2'
          d='M617.1 821.38c45.02 19.53 97.34 52.99 136.37 66.9 39.02 13.9 38.7-6.88 35.3-35.7-8.65-44.37-15.07-89.13-21.59-133.86-6.43-44.13-19.16-116.61-17.27-132.69 1.87-15.83 65.5-72.27 99.03-107.68 30.06-31.75 62.3-61.43 91.56-93.94 22.48-22.78 20.12-40.5-12.8-47.96-47.55-9.24-95.72-14.94-143.52-22.79-44.13-7.24-101.2-11.63-132.25-22.43-5.13-1.78-42.19-87.16-64.5-130.13-21.5-41.37-43.4-82.83-66.8-122.86-15.94-26.68-30.35-13.49-42.82 6.92-11.63 19.03-44.73 78.4-66.2 118.1-22.88 42.33-29.7 53.17-66.69 128.02-1.86 3.75-88.5 15.13-132.81 22.38-47.8 7.83-95.97 13.4-143.53 22.8-32.22 5.92-33.5 25.48-14.68 46.07 53.3 58.34 66.1 65.13 97.67 99.1 32.31 34.77 89.76 82.01 93.85 107.11 3.09 18.98-10.12 86.76-16.32 129.98-6.4 44.74-15.6 89.44-21.58 133.86-5.45 33.25 1.15 47.82 35.3 35.7 34.15-12.12 90.76-44.92 136.37-66.9 39.52-19.04 99.23-57.03 118.95-56.3 18.94.71 82 36.82 118.96 56.3z'>
          <animate
            attributeName='opacity'
            from='.5'
            to='1'
            dur='2s'
            id='start_test_animate'
            ref={starMorphShapeAnimateRef}
            begin='indefinite'
            end='indefinite'></animate>
          <animate
            id='reset_test_animate'
            ref={resetAnimateRef}
            dur='3s'
            begin='indefinite'
            end='indefinite'></animate>
          <animate
            id='home_svg_star_to_circle_anim'
            attributeName='d'
            dur='2s'
            begin='start_test_animate.begin'
            end='reset_test_animate.end'
            fill='freeze'
            calcMode='spline'
            keySplines='0 0 1 1; .7 0 .84 0; .7 0 .84 0; .7 0 .84 0; .7 0 .84 0; .7 0 .84 0; .7 0 .84 0; .7 0 .84 0; .7 0 .84 0; .7 0 .84 0; .7 0 .84 0;'
            keyTimes='0; .40; .46; .52; .58; .64; .70; .76; .82; .88; .94; 1'
            values='M617.1 821.38c45.02 19.53 97.34 52.99 136.37 66.9 39.02 13.9 38.7-6.88 35.3-35.7-8.65-44.37-15.07-89.13-21.59-133.86-6.43-44.13-19.16-116.61-17.27-132.69 1.87-15.83 65.5-72.27 99.03-107.68 30.06-31.75 62.3-61.43 91.56-93.94 22.48-22.78 20.12-40.5-12.8-47.96-47.55-9.24-95.72-14.94-143.52-22.79-44.13-7.24-101.2-11.63-132.25-22.43-5.13-1.78-42.19-87.16-64.5-130.13-21.5-41.37-43.4-82.83-66.8-122.86-15.94-26.68-30.35-13.49-42.82 6.92-11.63 19.03-44.73 78.4-66.2 118.1-22.88 42.33-29.7 53.17-66.69 128.02-1.86 3.75-88.5 15.13-132.81 22.38-47.8 7.83-95.97 13.4-143.53 22.8-32.22 5.92-33.5 25.48-14.68 46.07 53.3 58.34 66.1 65.13 97.67 99.1 32.31 34.77 89.76 82.01 93.85 107.11 3.09 18.98-10.12 86.76-16.32 129.98-6.4 44.74-15.6 89.44-21.58 133.86-5.45 33.25 1.15 47.82 35.3 35.7 34.15-12.12 90.76-44.92 136.37-66.9 39.52-19.04 99.23-57.03 118.95-56.3 18.94.71 82 36.82 118.96 56.3z;
M617.1 821.38c49.14-12.19 97.34 52.99 136.37 66.9 39.02 13.9 38.7-6.88 35.3-35.7-8.65-44.37-46.17-95.93-21.59-133.86 34.19-52.74 161.91-1.65 182.18-48.62 23.69-54.89-111.75-120.5-100.42-191.75 7.06-44.45 67.38-61.77 96.64-94.28 22.47-22.77 20.12-40.49-12.8-47.96-47.56-9.24-118.29 17.44-148.6-22.45-37.84-49.77 66.5-144.76 22.64-186.18-39.8-37.58-153.6 67.46-219.4 33.62-43.17-22.2-42.37-89.93-65.78-129.97-15.94-26.68-30.35-13.48-42.82 6.93-11.62 19.03-23.12 107.87-67.2 125.2-60.25 23.67-150.2-89.91-183.76-62.8-35.62 28.76 32.95 161.18-15.75 213.2-33.4 35.7-97.66 11.03-145.22 20.42-32.22 5.93-33.5 25.5-14.68 46.09 53.3 58.33 91.65 54.76 99.36 101.46 12.1 73.4-117.4 162.13-96.64 201.17 20.36 38.29 150.56-3.7 182.3 50.81 20.56 35.33-23.73 74.55-29.71 118.97-5.45 33.25 1.15 47.82 35.3 35.7 34.15-12.12 87.13-78.69 136.37-66.9 65.26 15.63 95.19 161.27 120.98 160.92 34.48-.47 52.57-144.95 116.93-160.92z;
M617.1 821.38c49.14-12.19 97.34 52.99 136.37 66.9 39.02 13.9 38.7-6.88 35.3-35.7-8.65-44.37-46.17-95.93-21.59-133.86 34.19-52.74 161.91-1.65 182.18-48.62 23.69-54.89-111.75-120.5-100.42-191.75 7.06-44.45 67.38-61.77 96.64-94.28 22.47-22.77 20.12-40.49-12.8-47.96-47.56-9.24-118.29 17.44-148.6-22.45-37.84-49.77 68.49-146.96 22.64-186.18-38.79-33.18-96.41-67.7-145.97-84.46-49.57-16.76-89.27-25.7-140.56-28.47-29.6-1.6-29.67.73-42.14 21.14-11.63 19.03-22 109.76-66.53 127.57-60.11 24.03-150.2-89.91-183.76-62.8-35.62 28.76 32.95 161.18-15.75 213.2-33.4 35.7-97.66 11.03-145.22 20.42-32.22 5.93-33.5 25.5-14.68 46.09 53.3 58.33 91.65 54.76 99.36 101.46 12.1 73.4-117.4 162.13-96.64 201.17 20.36 38.29 150.56-3.7 182.3 50.81 20.56 35.33-23.73 74.55-29.71 118.97-5.45 33.25 1.15 47.82 35.3 35.7 34.15-12.12 87.13-78.69 136.37-66.9 65.26 15.63 95.19 161.27 120.98 160.92 34.48-.47 52.57-144.95 116.93-160.92z;
M617.1 821.38c49.14-12.19 97.34 52.99 136.37 66.9 39.02 13.9 38.7-6.88 35.3-35.7-8.65-44.37-46.17-95.93-21.59-133.86 34.19-52.74 161.91-1.65 182.18-48.62 23.69-54.89-111.98-120.53-100.42-191.75 7.66-47.21 74.86-66.35 103.34-99.54 13.38-15.6 4.52-44.19-1.8-58.49-11.32-25.67-22.18-57.05-56.25-101.87-34.08-44.83-41.56-52.7-87.41-91.93-38.79-33.18-96.41-66.73-145.97-83.5-49.57-16.76-89.27-25.7-140.56-28.47-29.6-1.6-29.67.73-42.14 21.14-11.63 19.03-22 109.76-66.53 127.57-60.11 24.03-150.2-89.91-183.76-62.8-35.62 28.76 32.95 161.18-15.75 213.2-33.4 35.7-97.66 11.03-145.22 20.42-32.22 5.93-33.5 25.5-14.68 46.09 53.3 58.33 91.65 54.76 99.36 101.46 12.1 73.4-117.4 162.13-96.64 201.17 20.36 38.29 150.56-3.7 182.3 50.81 20.56 35.33-23.73 74.55-29.71 118.97-5.45 33.25 1.15 47.82 35.3 35.7 34.15-12.12 87.13-78.69 136.37-66.9 65.26 15.63 95.19 161.27 120.98 160.92 34.48-.47 52.57-144.95 116.93-160.92z;
M617.1 821.38c49.14-12.19 97.34 52.99 136.37 66.9 39.02 13.9 38.7-6.88 35.3-35.7-8.65-44.37-46.25-95.98-21.59-133.86 34.53-53.02 163.35-1.17 183.62-48.14 23.68-54.89 33.51-153.11 33.55-189.36.04-36.25-14.92-93.98-16.76-105.28-2.5-15.4-10.8-41.32-17.1-55.62-11.33-25.67-22.19-57.05-56.26-101.87-34.08-44.83-41.56-52.7-87.41-91.93-38.79-33.18-96.41-66.73-145.97-83.5-49.57-16.76-89.27-25.7-140.56-28.47-29.6-1.6-29.67.73-42.14 21.14-11.63 19.03-22 109.76-66.53 127.57-60.11 24.03-150.2-89.91-183.76-62.8-35.62 28.76 32.95 161.18-15.75 213.2-33.4 35.7-97.66 11.03-145.22 20.42-32.22 5.93-33.5 25.5-14.68 46.09 53.3 58.33 91.65 54.76 99.36 101.46 12.1 73.4-117.4 162.13-96.64 201.17 20.36 38.29 150.56-3.7 182.3 50.81 20.56 35.33-23.73 74.55-29.71 118.97-5.45 33.25 1.15 47.82 35.3 35.7 34.15-12.12 87.13-78.69 136.37-66.9 65.26 15.63 95.19 161.27 120.98 160.92 34.48-.47 52.57-144.95 116.93-160.92z;
M617.1 821.38c49.14-12.19 105 58.25 136.37 66.9 31.37 8.64 38.78-3.25 56.83-17.04 22.67-17.32 51.69-45.82 76.98-81.7 25.3-35.88 45.16-75.82 65.43-122.79 23.69-54.88 31.6-149.28 31.64-185.53.04-36.25-14.92-93.98-16.76-105.28-2.5-15.4-10.8-41.32-17.1-55.62-11.33-25.67-22.19-57.05-56.26-101.87-34.08-44.83-41.56-52.7-87.41-91.93-38.79-33.18-96.41-66.73-145.97-83.5-49.57-16.76-89.27-25.7-140.56-28.47-29.6-1.6-29.67.73-42.14 21.14-11.63 19.03-22 109.76-66.53 127.57-60.11 24.03-150.2-89.91-183.76-62.8-35.62 28.76 32.95 161.18-15.75 213.2-33.4 35.7-97.66 11.03-145.22 20.42-32.22 5.93-33.5 25.5-14.68 46.09 53.3 58.33 91.65 54.76 99.36 101.46 12.1 73.4-117.4 162.13-96.64 201.17 20.36 38.29 150.56-3.7 182.3 50.81 20.56 35.33-23.73 74.55-29.71 118.97-5.45 33.25 1.15 47.82 35.3 35.7 34.15-12.12 87.13-78.69 136.37-66.9 65.26 15.63 95.19 161.27 120.98 160.92 34.48-.47 52.57-144.95 116.93-160.92z;
M638.63 962.53c46.22-12.16 97.34-40.79 119.14-53.68 21.8-12.89 34.48-23.82 52.53-37.6 22.67-17.33 51.69-45.83 76.98-81.71 25.3-35.88 45.16-75.82 65.43-122.79 23.69-54.88 31.6-149.28 31.64-185.53.04-36.25-14.92-93.98-16.76-105.28-2.5-15.4-10.8-41.32-17.1-55.62-11.33-25.67-22.19-57.05-56.26-101.87-34.08-44.83-41.56-52.7-87.41-91.93-38.79-33.18-96.41-66.73-145.97-83.5-49.57-16.76-89.27-25.7-140.56-28.47-29.6-1.6-29.67.73-42.14 21.14-11.63 19.03-22 109.76-66.53 127.57-60.11 24.03-150.2-89.91-183.76-62.8-35.62 28.76 32.95 161.18-15.75 213.2-33.4 35.7-97.66 11.03-145.22 20.42-32.22 5.93-33.5 25.5-14.68 46.09 53.3 58.33 91.65 54.76 99.36 101.46 12.1 73.4-117.4 162.13-96.64 201.17 20.36 38.29 150.56-3.7 182.3 50.81 20.56 35.33-23.73 74.55-29.71 118.97-5.45 33.25 1.15 47.82 35.3 35.7 34.15-12.12 87.13-78.69 136.37-66.9C444.45 837.01 474.38 982 500.17 982.3c40.7.5 92.24-7.6 138.46-19.77z;
M638.63 962.53c46.22-12.16 97.34-40.79 119.14-53.68 21.8-12.89 34.48-23.82 52.53-37.6 22.67-17.33 51.69-45.83 76.98-81.71 25.3-35.88 45.16-75.82 65.43-122.79 23.69-54.88 31.6-149.28 31.64-185.53.04-36.25-14.92-93.98-16.76-105.28-2.5-15.4-10.8-41.32-17.1-55.62-11.33-25.67-22.19-57.05-56.26-101.87-34.08-44.83-41.56-52.7-87.41-91.93-38.79-33.18-96.41-66.73-145.97-83.5-49.57-16.76-89.27-25.7-140.56-28.47-29.6-1.6-29.67.73-42.14 21.14-11.63 19.03-22 109.76-66.53 127.57-60.11 24.03-150.2-89.91-183.76-62.8-35.62 28.76 32.95 161.18-15.75 213.2-33.4 35.7-97.66 11.03-145.22 20.42-32.22 5.93-33.5 25.5-14.68 46.09 53.3 58.33 91.65 54.76 99.36 101.46 12.1 73.4-117.4 162.13-96.64 201.17 20.36 38.29 150.56-3.7 182.3 50.81 20.56 35.33-23.73 74.55-29.71 118.97-5.45 33.25 11.67 40.64 24.77 51 13.1 10.38 70.99 40.94 128.24 59.43 57.25 18.5 113.85 18.98 139.64 19.3 40.7.48 92.24-7.61 138.46-19.78z;
M638.63 962.53c46.22-12.16 97.34-40.79 119.14-53.68 21.8-12.89 34.48-23.82 52.53-37.6 22.67-17.33 51.69-45.83 76.98-81.71 25.3-35.88 45.16-75.82 65.43-122.79 23.69-54.88 31.6-149.28 31.64-185.53.04-36.25-14.92-93.98-16.76-105.28-2.5-15.4-10.8-41.32-17.1-55.62-11.33-25.67-22.19-57.05-56.26-101.87-34.08-44.83-41.56-52.7-87.41-91.93-38.79-33.18-96.41-66.73-145.97-83.5-49.57-16.76-89.27-25.7-140.56-28.47-29.6-1.6-29.67.73-42.14 21.14-11.63 19.03-22 109.76-66.53 127.57-60.11 24.03-150.2-89.91-183.76-62.8-35.62 28.76 32.95 161.18-15.75 213.2-33.4 35.7-97.66 11.03-145.22 20.42-32.22 5.93-33.5 25.5-14.68 46.09 53.3 58.33 91.65 54.76 99.36 101.46 12.1 73.4-115.23 161.06-96.64 201.17 17.97 38.77 41.3 91.06 71.76 125.93 30.46 34.88 44.91 48.91 68.87 67.78 24.91 19.61 23.63 16.71 36.73 27.08 13.1 10.37 70.99 40.93 128.24 59.42 57.25 18.5 113.85 18.98 139.64 19.3 40.7.48 92.24-7.61 138.46-19.78z;
M638.63 962.53c46.22-12.16 97.34-40.79 119.14-53.68 21.8-12.89 34.48-23.82 52.53-37.6 22.67-17.33 51.69-45.83 76.98-81.71 25.3-35.88 45.16-75.82 65.43-122.79 23.69-54.88 31.6-149.28 31.64-185.53.04-36.25-14.92-93.98-16.76-105.28-2.5-15.4-10.8-41.32-17.1-55.62-11.33-25.67-22.19-57.05-56.26-101.87-34.08-44.83-41.56-52.7-87.41-91.93-38.79-33.18-96.41-66.73-145.97-83.5-49.57-16.76-89.27-25.7-140.56-28.47-29.6-1.6-29.67.73-42.14 21.14-11.63 19.03-22 109.76-66.53 127.57-60.11 24.03-150.2-89.91-183.76-62.8-35.62 28.76 32.95 161.18-15.75 213.2-33.4 35.7-97.66 11.03-145.22 20.42-32.22 5.93-20.96 6.5-33.34 35.08-10.07 23.26-16.77 73.47-18.35 132.09-1.57 58.62 22.58 146.22 39.73 183.46 17.88 38.81 41.3 89.15 71.76 124.02 30.46 34.88 44.91 48.91 68.87 67.78 24.91 19.61 23.63 16.71 36.73 27.08 13.1 10.37 70.99 40.93 128.24 59.42 57.25 18.5 113.85 18.98 139.64 19.3 40.7.48 92.24-7.61 138.46-19.78z;
M638.63 962.53c46.22-12.16 97.34-40.79 119.14-53.68 21.8-12.89 34.48-23.82 52.53-37.6 22.67-17.33 51.69-45.83 76.98-81.71 25.3-35.88 45.16-75.82 65.43-122.79 23.69-54.88 31.6-149.28 31.64-185.53.04-36.25-14.92-93.98-16.76-105.28-2.5-15.4-10.8-41.32-17.1-55.62-11.33-25.67-22.19-57.05-56.26-101.87-34.08-44.83-41.56-52.7-87.41-91.93-38.79-33.18-96.41-66.73-145.97-83.5-49.57-16.76-89.27-25.7-140.56-28.47-29.6-1.6-29.67.73-42.14 21.14-11.63 19.03-22 109.76-66.53 127.57-60.11 24.03-147.56-86.27-183.76-62.8-38.5 24.93-65.13 43.03-103.8 90.71-38.65 47.69-62.25 98.11-75.36 132.39-11.7 30.6-10.42 24.68-17.06 46.56-7.36 24.26-14.86 72.51-16.44 131.13-1.57 58.62 22.58 146.22 39.73 183.46 17.88 38.81 41.3 89.15 71.76 124.02 30.46 34.88 44.91 48.91 68.87 67.78 24.91 19.61 23.63 16.71 36.73 27.08 13.1 10.37 70.99 40.93 128.24 59.42 57.25 18.5 113.85 18.98 139.64 19.3 40.7.48 92.24-7.61 138.46-19.78z;
M656.34 958.07c50.07-18.57 89.9-41.07 108.63-52.88 18.73-11.8 35.9-26.41 43.42-30.95 20.84-12.6 71.3-70.62 88.04-95.3 16.73-24.66 57.7-103.97 67.96-139.6 8.07-27.99 18.87-117.46 20.9-148.21 2.02-30.75-10.98-91.11-14.56-107.62-5.67-26.17-9.66-34.69-17.99-59.92-8.7-26.36-24.93-55.55-45.4-87.07-20.48-31.52-57.74-75.93-98.45-110.77-15.3-13.09-80.89-56.86-128.64-76.61-47.75-19.76-108.64-32.52-149.1-34.83-24.6-1.4-42.09-.65-64.82.23-13.18.51-58.94 7.02-90.6 15.22-31.66 8.2-110.28 38.57-150.94 69.97-17.26 13.34-78.18 55.48-112.83 107.02C77.32 258.29 59.8 287.5 47.6 323.59c-9.45 27.96-13.17 33.47-17.38 50.82-4.3 17.7-17.77 81.83-15.34 128.88 2.43 47.04 12.4 122.57 30.7 164.58 7.67 17.63 41.84 96.62 80.67 141.53 38.83 44.9 31.96 37.5 66.38 66.19 15.53 12.94 28.9 22.1 40.04 30.28 11.15 8.18 84.48 48.02 141.1 62.35 56.63 14.33 97.56 15.51 117.28 16.25 18.93.7 115.23-7.83 165.3-26.4z
                '></animate>

          {/* <animate
            attributeType='CSS'
            attributeName='opacity'
            dur='.01s'
            // restart='whenNotActive'
            begin='start_test_animate.begin'
            end='reset_test_animate.begin'
            fill='freeze'
            from='1'
            to='0.5'></animate> */}
          {/* <animate
            restart='whenNotActive'
            fill='freeze'
            attributeName='d'
            dur='0.01s'
            begin='reset_test_animate.begin'
            values='M617.1 821.38c45.02 19.53 97.34 52.99 136.37 66.9 39.02 13.9 38.7-6.88 35.3-35.7-8.65-44.37-15.07-89.13-21.59-133.86-6.43-44.13-19.16-116.61-17.27-132.69 1.87-15.83 65.5-72.27 99.03-107.68 30.06-31.75 62.3-61.43 91.56-93.94 22.48-22.78 20.12-40.5-12.8-47.96-47.55-9.24-95.72-14.94-143.52-22.79-44.13-7.24-101.2-11.63-132.25-22.43-5.13-1.78-42.19-87.16-64.5-130.13-21.5-41.37-43.4-82.83-66.8-122.86-15.94-26.68-30.35-13.49-42.82 6.92-11.63 19.03-44.73 78.4-66.2 118.1-22.88 42.33-29.7 53.17-66.69 128.02-1.86 3.75-88.5 15.13-132.81 22.38-47.8 7.83-95.97 13.4-143.53 22.8-32.22 5.92-33.5 25.48-14.68 46.07 53.3 58.34 66.1 65.13 97.67 99.1 32.31 34.77 89.76 82.01 93.85 107.11 3.09 18.98-10.12 86.76-16.32 129.98-6.4 44.74-15.6 89.44-21.58 133.86-5.45 33.25 1.15 47.82 35.3 35.7 34.15-12.12 90.76-44.92 136.37-66.9 39.52-19.04 99.23-57.03 118.95-56.3 18.94.71 82 36.82 118.96 56.3z;'></animate> */}
          {/* <animate
            attributeType='CSS'
            attributeName='opacity'
            dur='0.01s'
            restart='whenNotActive'
            begin='reset_test_animate.begin'
            fill='freeze'
            from='1'
            to='1'></animate> */}
        </path>
      </svg>
      <p>hello paragraph</p>
    </div>
  );
};

export default GlobalTest;
